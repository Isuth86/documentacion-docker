{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Documentaci\u00f3n de Servicios con Docker","text":"<p>Bienvenido a la documentaci\u00f3n t\u00e9cnica del proyecto de Administraci\u00f3n de Sistemas Operativos.</p>"},{"location":"#objetivo-del-proyecto","title":"Objetivo del Proyecto","text":"<p>Este proyecto tiene como objetivo documentar el despliegue y configuraci\u00f3n de servicios esenciales utilizando Docker. Espec\u00edficamente, se cubren dos casos pr\u00e1cticos:</p> <ol> <li>LAMP + WordPress: Creaci\u00f3n de un entorno de servidor web completo (Linux, Apache, MySQL/MariaDB, PHP) para alojar un sitio de WordPress en un \u00fanico contenedor.</li> <li>WordPress + MariaDB (Contenedores Separados): Despliegue modular utilizando una red Docker para conectar un contenedor de aplicaci\u00f3n y otro de base de datos.</li> <li>Portainer CE: Implementaci\u00f3n de una interfaz gr\u00e1fica para gestionar contenedores Docker de manera eficiente.</li> </ol>"},{"location":"#estructura-de-la-documentacion","title":"Estructura de la Documentaci\u00f3n","text":"<p>La documentaci\u00f3n est\u00e1 organizada en las siguientes secciones:</p> <ul> <li>Introducci\u00f3n: Visi\u00f3n general de las tecnolog\u00edas utilizadas.</li> <li>Instalaci\u00f3n y Requisitos: Pasos detallados para instalar y configurar los contenedores y servicios.</li> <li>Uso y Funcionamiento: Gu\u00eda sobre c\u00f3mo acceder y utilizar los servicios desplegados.</li> <li>Conclusiones: Resumen del aprendizaje y posibles mejoras.</li> </ul> <p>Nota importante</p> <p>Esta documentaci\u00f3n est\u00e1 basada en las pr\u00e1cticas realizadas por Ismael Berm\u00fadez Del R\u00edo para el m\u00f3dulo de Administraci\u00f3n de Sistemas Operativos.</p>"},{"location":"#tecnologias-clave","title":"Tecnolog\u00edas Clave","text":"Tecnolog\u00eda Descripci\u00f3n Docker Plataforma de contenerizaci\u00f3n. Apache Servidor web HTTP. MariaDB Sistema de gesti\u00f3n de bases de datos. WordPress Sistema de gesti\u00f3n de contenidos (CMS). Portainer Gestor de contenedores con interfaz web."},{"location":"conclusiones/","title":"Conclusiones y Mejoras Futuras","text":""},{"location":"conclusiones/#conclusiones","title":"Conclusiones","text":"<p>La realizaci\u00f3n de este proyecto pr\u00e1ctico ha permitido consolidar conocimientos fundamentales en la administraci\u00f3n de sistemas modernos:</p> <ul> <li>Flexibilidad de Docker: Hemos comprobado c\u00f3mo Docker facilita levantar servicios complejos (como un stack LAMP completo) en cuesti\u00f3n de minutos, sin \"ensuciar\" el sistema operativo anfitri\u00f3n.</li> <li>Gesti\u00f3n Visual: Portainer demuestra ser una herramienta indispensable para quienes prefieren una gesti\u00f3n visual sobre la l\u00ednea de comandos pura, facilitando la monitorizaci\u00f3n del estado de los contenedores.</li> <li>Automatizaci\u00f3n: Configuraci\u00f3n de scripts de inicio (<code>.bashrc</code>) para automatizar el arranque de servicios dentro del contenedor.</li> </ul>"},{"location":"conclusiones/#mejoras-futuras","title":"Mejoras Futuras","text":"<p>Para evolucionar este proyecto, se proponen las siguientes mejoras:</p> <ol> <li>Docker Compose: Migrar la creaci\u00f3n manual del contenedor LAMP (<code>docker run</code>) a un archivo <code>docker-compose.yml</code>. Esto permitir\u00eda definir toda la infraestructura como c\u00f3digo, facilitando el despliegue con un solo comando.</li> <li>HTTPS Real: Configurar certificados SSL v\u00e1lidos (por ejemplo, con Let's Encrypt) para el acceso seguro, en lugar de usar HTTP simple o certificados autofirmados.</li> <li>Persistencia de datos en LAMP: Sacar la base de datos y los archivos web a vol\u00famenes Docker, para que la informaci\u00f3n no se pierda si se elimina el contenedor LAMP.</li> </ol>"},{"location":"instalacion/","title":"Instalaci\u00f3n y Requisitos","text":"<p>A continuaci\u00f3n se detallan los pasos para la instalaci\u00f3n de los dos entornos.</p>"},{"location":"instalacion/#parte-1-creacion-del-docker-lamp-wordpress","title":"Parte 1: Creaci\u00f3n del Docker LAMP + WordPress","text":""},{"location":"instalacion/#11-crear-el-contenedor-base","title":"1.1 Crear el Contenedor Base","text":"<p>Primero creamos un contenedor basado en Ubuntu 22.04, exponiendo el puerto 80 del contenedor al 8080 del anfitri\u00f3n.</p> <pre><code>docker run \u2013it \u2013p 8080:80 \u2013name LAMP Ubuntu:22.04 /bin/bash\n</code></pre> <p> </p>"},{"location":"instalacion/#12-instalacion-de-paquetes","title":"1.2 Instalaci\u00f3n de Paquetes","text":"<p>Dentro del contenedor, actualizamos e instalamos los servicios necesarios (Apache, MariaDB, PHP, WordPress).</p> <pre><code>apt update\napt install wordpress php libapache2-mod-php mariadb-server php-mysql\n</code></pre> <p>Podemos iniciar Apache con: <pre><code>service apache2 start\n</code></pre></p> <p></p>"},{"location":"instalacion/#13-configuracion-de-apache","title":"1.3 Configuraci\u00f3n de Apache","text":"<p>Necesitamos configurar Apache para servir WordPress. Instalamos un editor de texto: <pre><code>apt install nano\n</code></pre> Creamos el fichero <code>/etc/apache2/sites-available/wordpress.conf</code> y configuramos el <code>URL rewriting</code>: <pre><code>a2ensite wordpress\na2enmode rewrite\nservice apache2 restart\n</code></pre></p>"},{"location":"instalacion/#14-configuracion-de-base-de-datos","title":"1.4 Configuraci\u00f3n de Base de Datos","text":"<p>Iniciamos MariaDB y aseguramos la instalaci\u00f3n: <pre><code>service mariadb start\nmysql_secure_installation\n</code></pre> Luego accedemos a MySQL para crear la base de datos y el usuario: <pre><code>CREATE DATABASE wordpress;\nCREATE USER 'wordpress'@'%' IDENTIFIED BY 'MyPass-2023';\nGRANT ALL PRIVILEGES ON wordpress.* TO 'wordpress'@'%' WITH GRANT OPTION;\n</code></pre></p> <p> </p>"},{"location":"instalacion/#parte-2-instalacion-de-portainer-ce","title":"Parte 2: Instalaci\u00f3n de Portainer CE","text":""},{"location":"instalacion/#21-crear-volumen","title":"2.1 Crear Volumen","text":"<p>Creamos un volumen para persistir los datos de Portainer: <pre><code>docker volume create portainer_data\n</code></pre></p> <p></p>"},{"location":"instalacion/#22-ejecutar-el-contenedor","title":"2.2 Ejecutar el Contenedor","text":"<p>Lanzamos Portainer mapeando los puertos 8000 y 9443:</p> <pre><code>docker run -d -p 8000:8000 -p 9443:9443 --name portainer \\\n    --restart=always \\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\n    -v portainer_data:/data \\\n    portainer/portainer-ce:latest\n</code></pre> <p></p>"},{"location":"introduccion/","title":"Introducci\u00f3n","text":"<p>En este proyecto trabajaremos con un conjunto de tecnolog\u00edas que permiten el despliegue \u00e1gil y eficiente de servicios web y la gesti\u00f3n de contenedores.</p>"},{"location":"introduccion/#lamp-stack-wordpress","title":"LAMP Stack + WordPress","text":"<p>El entorno LAMP es un acr\u00f3nimo que describe un sistema de infraestructura de internet que usa las siguientes herramientas:</p> <ul> <li>Linux: El sistema operativo. En nuestro caso, usamos una imagen de Ubuntu 22.04.</li> <li>Apache: El servidor web.</li> <li>MySQL / MariaDB: El sistema de gesti\u00f3n de bases de datos.</li> <li>PHP: El lenguaje de programaci\u00f3n para el procesamiento din\u00e1mico.</li> </ul> <p>Sobre esta pila tecnol\u00f3gica instalaremos WordPress, el CMS (Sistema de Gesti\u00f3n de Contenidos) m\u00e1s popular del mundo.</p>"},{"location":"introduccion/#docker-y-portainer","title":"Docker y Portainer","text":"<p>Docker nos permite empaquetar aplicaciones y sus dependencias en \"contenedores\" virtuales que se ejecutan en cualquier sistema Linux. Esto facilita el despliegue y asegura que el software funcione igual en todas partes.</p> <p>Portainer CE es una herramienta ligera de gesti\u00f3n que ofrece una interfaz gr\u00e1fica sencilla para gestionar entornos Docker. Permite administrar contenedores, im\u00e1genes, redes y vol\u00famenes sin necesidad de usar la l\u00ednea de comandos para todo.</p>"},{"location":"uso/","title":"Uso y Funcionamiento","text":"<p>Una vez completada la instalaci\u00f3n, podemos acceder y utilizar los servicios.</p>"},{"location":"uso/#acceso-a-wordpress","title":"Acceso a WordPress","text":"<p>Para acceder a nuestro sitio WordPress configurado en el contenedor LAMP:</p> <ol> <li>Abre tu navegador web.</li> <li>Navega a la URL: <code>http://localhost:8080/blog</code> (o la ruta que hayas configurado).</li> <li>Si la configuraci\u00f3n es correcta, ver\u00e1s el instalador de WordPress o la p\u00e1gina de inicio.</li> </ol> Soluci\u00f3n de Problemas <p>Si ves un error, verifica que el archivo <code>/etc/wordpress/config-localhost.php</code> est\u00e9 correctamente configurado con las credenciales de la base de datos que creaste.</p>"},{"location":"uso/#gestion-con-portainer","title":"Gesti\u00f3n con Portainer","text":"<p>Para gestionar tus contenedores de forma gr\u00e1fica:</p> <ol> <li>Abre el navegador y ve a <code>https://localhost:9443</code>.</li> <li>Acepta el certificado de seguridad (autofirmado por defecto).</li> <li>Crea el usuario administrador inicial.<ul> <li>Usuario: <code>admin</code></li> <li>Contrase\u00f1a: (m\u00ednimo 12 caracteres, ej: <code>cefireadmindocker</code>)</li> </ul> </li> </ol>"},{"location":"uso/#panel-de-control","title":"Panel de Control","text":"<p>Una vez dentro, ver\u00e1s el \"Environment\" local. Al hacer clic, acceder\u00e1s al dashboard (tablero) donde puedes ver:</p> <ul> <li>Containers: Lista de contenedores activos/inactivos. Puedes iniciar (<code>start</code>), detener (<code>stop</code>) o eliminar (<code>remove</code>) contenedores (incluyendo el de LAMP).</li> <li>Images: Im\u00e1genes Docker descargadas en tu sistema.</li> <li>Volumes: Vol\u00famenes de datos persistentes.</li> </ul> <p> </p>"},{"location":"wordpress_mariadb/","title":"Caso Pr\u00e1ctico: WordPress + MariaDB (Contenedores Separados)","text":"<p>En esta pr\u00e1ctica, desplegaremos un CMS WordPress conectando dos contenedores separados a trav\u00e9s de una red Docker personalizada:</p> <ol> <li>Contenedor MariaDB: Servidor de base de datos.</li> <li>Contenedor WordPress: Servidor web con Apache+PHP y WordPress preinstalado.</li> </ol> <p>Adem\u00e1s, realizaremos una migraci\u00f3n de versi\u00f3n de MariaDB conservando los datos.</p>"},{"location":"wordpress_mariadb/#1-configuracion-de-red","title":"1. Configuraci\u00f3n de Red","text":"<p>Primero, creamos una red Docker para permitir la comunicaci\u00f3n entre los contenedores.</p> <pre><code>docker network create redwp\n</code></pre> <p></p> <p>Para verificar que se ha creado correctamente: <pre><code>docker network ls\n</code></pre></p> <p></p>"},{"location":"wordpress_mariadb/#2-despliegue-de-mariadb","title":"2. Despliegue de MariaDB","text":"<p>Creamos el contenedor de base de datos conectado a la red <code>redwp</code> y usando un volumen para persistencia.</p> <pre><code>docker run --name nuestromariadb \\\n  --network redwp \\\n  -v /home/sergi/mariadbdata:/var/lib/mysql \\\n  -e MARIADB_ROOT_PASSWORD=cefireroot \\\n  -e MARIADB_USER=cefireuser \\\n  -e MARIADB_PASSWORD=cefirepass \\\n  -e MARIADB_DATABASE=cefiredb \\\n  -d mariadb:10.6\n</code></pre> <p> </p> <p>Variables de entorno utilizadas: *   <code>MARIADB_ROOT_PASSWORD</code>: Contrase\u00f1a del usuario root. *   <code>MARIADB_USER</code>: Nuevo usuario creado. *   <code>MARIADB_PASSWORD</code>: Contrase\u00f1a del nuevo usuario. *   <code>MARIADB_DATABASE</code>: Nombre de la base de datos inicial.</p>"},{"location":"wordpress_mariadb/#3-despliegue-de-wordpress","title":"3. Despliegue de WordPress","text":"<p>Lanzamos el contenedor de WordPress, conect\u00e1ndolo a la misma red y exponiendo el puerto 8080.</p> <pre><code>docker run --name nuestrowp --network redwp -p 8080:80 -d wordpress\n</code></pre> <p> </p>"},{"location":"wordpress_mariadb/#configuracion-inicial","title":"Configuraci\u00f3n Inicial","text":"<ol> <li>Accede a <code>http://localhost:8080</code>.</li> <li>Selecciona el idioma (Espa\u00f1ol).</li> </ol> <ol> <li>Configura la conexi\u00f3n a la base de datos:</li> </ol> Campo Valor Nombre de la base de datos <code>cefiredb</code> Nombre de usuario <code>cefireuser</code> Contrase\u00f1a <code>cefirepass</code> Servidor de la base de datos <code>nuestromariadb</code> (Nombre del contenedor) <ol> <li>Finaliza la instalaci\u00f3n creando el usuario administrador de WordPress.</li> </ol>"},{"location":"wordpress_mariadb/#4-migracion-de-mariadb-actualizacion","title":"4. Migraci\u00f3n de MariaDB (Actualizaci\u00f3n)","text":"<p>El objetivo es actualizar la versi\u00f3n de MariaDB de 10.6 a 10.7 sin perder datos.</p> <ol> <li> <p>Detener y eliminar el contenedor antiguo:     <pre><code>docker stop nuestromariadb\ndocker rm nuestromariadb\n</code></pre> Nota: Los datos persisten en <code>/home/sergi/mariadbdata</code> (en el host).</p> <p></p> </li> <li> <p>Crear el nuevo contenedor (versi\u00f3n 10.7) mapeando el mismo volumen:     <pre><code>docker run --name nuestromariadb \\\n  --network redwp \\\n  -v /home/sergi/mariadbdata:/var/lib/mysql \\\n  -e MARIADB_ROOT_PASSWORD=cefireroot \\\n  -e MARIADB_USER=cefireuser \\\n  -e MARIADB_PASSWORD=cefirepass \\\n  -e MARIADB_DATABASE=cefiredb \\\n  -d mariadb:10.7\n</code></pre></p> <p></p> </li> <li> <p>Verificaci\u00f3n:     Al acceder de nuevo a <code>http://localhost:8080</code>, el sitio debe funcionar correctamente, indicando que la base de datos se ha conservado y migrado con \u00e9xito.</p> <p> </p> </li> </ol>"}]}